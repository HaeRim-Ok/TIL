# kops

# 1. 작업환경 구축

### 가상머신 준비

AWS EC2 인스턴스 생성 

- Ubuntu 18.04 AMI 선택
- 스토리지 크기 : 20
- 태그 : Name - k8s-ec2
- 보안그룹 : k8s-security-group, 내 IP만 허용
- 새 키 페어 생성 : k8s-ec2

![image](https://user-images.githubusercontent.com/77096463/112075064-1016b180-8bbb-11eb-9609-f2f5fe41e979.png)

<br>

탄력적 IP 주소 생성하여 k8s-ec2 인스턴스와 연결 > 재연결 시 퍼블릭 ip주소가 계속 바뀌기 때문에

![image](https://user-images.githubusercontent.com/77096463/112075207-65eb5980-8bbb-11eb-9e8d-9ddd9758886a.png)

<br>

### 인스턴스 접속 (xshell)

[cmd] ubuntu 18.04 AMI는 ubuntu로 사용자가 정해져 있음

```
C:\Users\Lenovo>cd C:\Users\Lenovo\Downloads

C:\Users\Lenovo\Downloads>ssh -i k8s-ec2.pem ubuntu@18.xx.xx.xx
The authenticity of host '18.xx.xx.xx (18.xx.xx.xx)' can't be established.
ECDSA key fingerprint is SHA256:CQCpxXqXXEofODPIlXoos5JWZOJaZS+9GsSs7ieQzjg.
Are you sure you want to continue connecting (yes/no)? yes
```

<br>

만일 접속이 안된다면 .ssh 라는 히든 폴더로 이동하여 known_hosts 내용 지운 다음 위의 명령어 재수행

```
C:\Users\Lenovo>cd .ssh
```

<br>

[xshell 연결 탭]

- 이름 : EC2-kops
- 호스트 : 인스턴스 퍼블릭 IPV4 주소
- 포트 번호 : 22

[xshell 사용자 인증 탭]

- 사용자 이름 : ubuntu
- 방법 : Public Key > k8s-ec2 키 페어 가져오기 후 선택

![image](https://user-images.githubusercontent.com/77096463/112076499-df844700-8bbd-11eb-9884-4f056692ee02.png)

<br>

### kops 설치

```

```





# 2. 클러스터 생성

